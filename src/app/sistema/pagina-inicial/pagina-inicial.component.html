<div class="landing-page">
  <nav class="navbar">
    <div class="logo">
      <img src="assets/imagens/logoq-bank.svg" alt="Oftlessons Logo" />
    </div>
    <div class="nav-links">
      <a href="#inicio" (click)="scrollToSection('inicio'); $event.preventDefault()" class="active">HOME</a>
      <a href="#professores" (click)="scrollToSection('professores'); $event.preventDefault()">EQUIPE</a>
      <a href="#features" (click)="scrollToSection('features'); $event.preventDefault()">FEATURES</a>
      <a href="#planos" (click)="scrollToSection('planos'); $event.preventDefault()">PLANOS</a>
      <a href="#planos" (click)="scrollToSection('planos'); $event.preventDefault()">RECURSOS</a>
      <a href="#planos" (click)="scrollToSection('planos'); $event.preventDefault()">FAQ</a>
      <a href="#planos" (click)="scrollToSection('planos'); $event.preventDefault()">CONTATO</a>
      <!-- <a href="#hero" (click)="scrollToSection('hero'); $event.preventDefault()" class="active">Cadastro</a>
      <a href="#depoimentos" (click)="scrollToSection('depoimentos'); $event.preventDefault()">Depoimentos</a> -->
    </div>

    <div class="nav-actions">
      <a href="/login" class="btn-login-nav">LOGIN / ALUNO</a>
    </div>

  </nav>

  <div class="main-background-wrapper">



    <section id="inicio" class="tech-section" (mouseenter)="playVideo()" (mouseleave)="pauseVideo()">
      
      <div class="video-container">
        <video #videoPlayer muted loop playsinline class="bg-video" poster="../../../assets/imagens/landingpage/desempenhopreview.jpg">
          <source src="../../../assets/videos/trilha.mp4" type="video/mp4">
          Seu navegador não suporta vídeos HTML5.
        </video>
      </div>

      <div class="content-tech">
        <h2 class="tech-title">TECNOLOGIA NA SUA ROTINA.</h2>
        
        <button class="btn-tech">
          ACESSE AGORA 
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
            <path d="M9 18l6-6-6-6"/>
          </svg>
        </button>
      </div>

    </section>


    <section id="professores" class="professores-section-dark">
      <div class="professores-overlay"></div>

      <div class="container-fluid relative-z"> 
        
        <div class="professores-header">
          <h2 class="professores-title">Nossa Equipe</h2>
          <p class="professores-subtitle">Subespecialistas que comentam as questões e ministram as aulas da plataforma.</p>
        </div>

        <div class="carousel-wrapper">
          
          <button class="nav-btn prev" (click)="prevProfessor()">❮</button>

          <div class="carousel-viewport">
            
            <div class="professores-track" 
                [style.transform]="transformStyle"
                [style.transition]="transitionStyle">
              
              <div class="professor-card-dark" 
                  *ngFor="let professor of todosProfessores"
                  [style.flex]="'0 0 ' + cardWidthPercentage + '%'">
                
                <div class="card-inner">
                  <div class="card-top-content">
                    <div class="card-avatar">
                      <div class="avatar-circle">
                        <img [src]="professor.foto" [alt]="professor.nome" />
                      </div>
                    </div>
                    <h3 class="prof-name">{{ professor.nome }}</h3>
                    <div class="prof-badge">
                      <span class="badge-text">{{ professor.especialidade }}</span>
                      <span class="badge-sub" *ngIf="professor.instituicao">{{ professor.instituicao }}</span>
                    </div>
                  </div>
                  <div class="card-bottom-content" *ngIf="professor.isComentador">
                    <p class="commentator-label">Equipe de comentário do Q-Bank</p>
                  </div>
                  </div>

              </div>

            </div>
          </div>

          <button class="nav-btn next" (click)="nextProfessor()">❯</button>

        </div>

        <div class="carousel-indicators">
          <span *ngFor="let p of todosProfessores; let i = index" 
                class="dot" 
                [class.active]="i === startIndexProfessores"> </span>
        </div>

      </div>
    </section>


    <section id="features" class="features-section">
      <div class="features-container-fluid">
        
        <div class="features-header">
          <h2>Seu estudo com o Oftlessons começa agora!</h2>
        </div>

        <div class="features-grid">
          <div class="feature-card" 
              *ngFor="let item of features" 
              (mouseenter)="playGridVideo(featVideo)" 
              (mouseleave)="pauseGridVideo(featVideo)">
            
            <div class="feature-video-container">
              <video #featVideo muted loop playsinline class="feature-video" [poster]="item.poster">
                <source [src]="item.video" type="video/mp4">
              </video>
            </div>

            <div class="feature-content">
              <h3>{{ item.title }}</h3>
            </div>

          </div>
        </div>

      </div>
    </section>


  </div>


















  <section id="depoimentos" class="depoimentos-section">
    <div class="container">
      <h2 class="depoimento-title">Depoimentos</h2>
      <div class="carousel-container">
        <div class="depoimentos-grid">
          <div class="depoimento-card" *ngFor="let depoimento of depoimentosExibidos">
            <div class="depoimento-author">
              <div class="depoimento-avatar">
                <img [src]="depoimento.image" alt="{{ depoimento.name }}" />
              </div>
              <div class="depoimento-info">
                <h4>{{ depoimento.name }}</h4>
                <p>{{ depoimento.role }}</p>
              </div>
            </div>
            <div class="depoimento-content">
              <p>"{{ depoimento.content }}"</p>
            </div>
          </div>
        </div>
        <div class="carousel-controls">
          <button class="carousel-control prev" (click)="prevDepoimento()">❮</button>
          <div class="carousel-dots">
            <span *ngFor="let _, let i = index; of: depoimentos.slice(0, depoimentos.length - (isMobile ? 0 : 1))"
                  class="carousel-dot"
                  [class.active]="i === currentDepoimentoIndex"
                  (click)="goToDepoimento(i)"></span>
          </div>
          <button class="carousel-control next" (click)="nextDepoimento()">❯</button>
        </div>
      </div>
    </div>
  </section>

  <section id="planos" class="planos-section">
    <div class="container">
      <div class="title-planos">
        <h2>Planos acessíveis para todos os perfis</h2>
        <p>Escolha um plano e tenha acesso ilimitado a nossas questões e comentários.</p>
      </div>

      <div class="planos-container">
        <app-card-plano
            titulo="7 dias Grátis"
            [descricao]="['Acesso a um número limitado de questões.', 'Ideal para quem está começando ou quer experimentar a plataforma.', 'Sem compromisso, totalmente gratuito.']"
            [preco]="''"
            textoParcelas="Gratuito"
            textoBotao="Teste 7 dias grátis"
            [mostrarPorMes]="false"
            [recomendado]="false"
            textoAdicional=""
            [apenasEmitir]="true"
            (botaoClicado)="onPlanoSelecionado('GRATUITO')">
        </app-card-plano>

        <app-card-plano
            titulo="QBank + Mentoria"
            [descricao]="[
              'Banco de questões com mais de 4 mil questões.',
              '+2500 questões comentadas ricas em ilustrações.',
              'Assistente de IA que tira dúvidas, elabora novos comentários e explicações.',
              'Mentoria de acompanhamento do desempenho com questões.',
              'Fichas de simulados de acordo com a necessidade do aluno.'
            ]"
            [preco]="450.26"
            [textoParcelas]="'6x'"
            textoBotao="Escolher plano"
            [recomendado]="false"
            textoAdicional="Ou em 1x de R$2.400,00"
            corCabecalho="#041E4E"
            [apenasEmitir]="true"
            (botaoClicado)="onPlanoSelecionado('ASSINATURA_SEMESTRAL_PARCELADA')">
        </app-card-plano>

        <app-card-plano
            titulo="Anual"
            [descricao]="[
              'Banco de questões com mais de 4 mil questões.',
              '+2500 questões comentadas ricas em ilustrações.',
              'Assistente de IA que tira dúvidas, elabora novos comentários e explicações.'
            ]"
            [preco]="175.51"
            [textoParcelas]="'12x'"
            textoBotao="Escolher plano"
            [recomendado]="true"
            textoAdicional="ou em 1x de R$1.697,00"
            corCabecalho="#0F1934"
            [apenasEmitir]="true"
            (botaoClicado)="onPlanoSelecionado('ASSINATURA_ANUAL_PARCELADA')">
        </app-card-plano>
      </div>

      <div class="planos-footer">
        <span>
          Sujeito às condições estabelecidas em nossos 
          <a href="assets/docs/pp.pdf" target="_blank">Termos de Uso</a> e
          <a href="assets/docs/pp.pdf" target="_blank">Política de Assinaturas.</a>
        </span>
      </div>
    </div>
  </section>


  <div class="section-indicator">
    <a href="#hero" class="section-dot" data-section="hero"></a>
    <a href="#professores" class="section-dot" data-section="professores"></a>
    <a href="#depoimentos" class="section-dot" data-section="depoimentos"></a>
    <a href="#planos" class="section-dot" data-section="planos"></a>
  </div>

  <footer class="footer">
    <div class="container">
      <div class="footer-bottom">
        <p>&copy; 2024-{{ anoAtual }} Oftlessons - Todos os direitos reservados - CNPJ: 54.642.493/0001-92 - Av. Paulista, 1636. Bela Vista – São Paulo/SP.</p>
      </div>
    </div>
  </footer>
</div>
