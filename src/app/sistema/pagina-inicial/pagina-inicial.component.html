<div class="landing-page">
  <nav class="navbar">
    <div class="logo">
      <img src="assets/imagens/logoq-bank.svg" alt="Oftlessons Logo" />
    </div>
    <div class="nav-links">
      <a href="#hero" (click)="scrollToSection('hero'); $event.preventDefault()" class="active">Cadastro</a>
      <a href="#professores" (click)="scrollToSection('professores'); $event.preventDefault()">Equipe</a>
      <a href="#depoimentos" (click)="scrollToSection('depoimentos'); $event.preventDefault()">Depoimentos</a>
      <a href="#planos" (click)="scrollToSection('planos'); $event.preventDefault()">Planos</a>
    </div>
  </nav>
  
  <section id="hero" class="hero-section">
    <div class="container">
      <div class="hero-content">
        <div class="hero-text">
          <h1><span>Domine</span> os conceitos que <span>caem</span> na Prova Nacional de <span>Oftalmologia</span></h1>
          <p>Não é sobre estudar tudo, é sobre estudar certo.</p>
        </div>
        <div class="register-card">
          <div class="register-header">
            <h3>Já possui uma conta?</h3>
            <button class="btn btn-login" (click)="navigateToLogin()">Faça Login</button>
          </div>
          <div class="register-body">
            <form (submit)="cadastrar()">
              <div class="column-form">
                <!-- <div class="form-group">
                  <label class="small mb-1">Nome *</label>
                  <input type="text" name="nome" [(ngModel)]="nome"
                    class="form-control py-2"
                    [ngClass]="{'input-error': camposComErro.includes('nome')}"
                    placeholder="Digite o seu nome" required />
                  <small class="text-danger" *ngIf="camposComErro.includes('nome')">
                    {{ obterMensagemErro('nome') }}
                  </small>
                </div> -->

                <div class="form-group">
                  <label class="small mb-1">E-mail *</label>
                  <input type="email" name="email" [(ngModel)]="email"
                    class="form-control py-2"
                    [ngClass]="{'input-error': camposComErro.includes('email')}"
                    placeholder="Digite seu e-mail" required />
                  <small class="text-danger" *ngIf="camposComErro.includes('email')">
                    {{ obterMensagemErro('email') }}
                  </small>
                </div>

                <div class="form-group">
                  <div class="password-container-tooltip">
                    <label class="small mb-1">Senha *</label>
                    <div class="input-group">
                      <input type="password" name="password" [(ngModel)]="password"
                        class="form-control py-2"
                        [ngClass]="{'input-error': camposComErro.includes('password')}"
                        placeholder="Digite sua senha" required
                        (input)="validatePassword()"
                        (focus)="showTooltip = true"
                        (blur)="showTooltip = false"/>
                      <div class="input-group-append">
                        <div class="btn btn-outline-secondary" type="button" (click)="togglePasswordVisibility('password')">
                          <img *ngIf="!passwordVisible.password" src="assets/imagens/view.svg" alt="Mostrar senha" width="16" height="16">
                          <img *ngIf="passwordVisible.password" src="assets/imagens/view-off.svg" alt="Ocultar senha" width="16" height="16">
                        </div>
                      </div>
                    </div>
                    <div *ngIf="showTooltip" class="password-tooltip">
                      <p class="tooltip-title">A senha precisa ter:</p>
                      <ul>
                        <li [class.valid]="passwordValidations.minLength">Ao menos 8 caracteres</li>
                        <li [class.valid]="passwordValidations.uppercase">1 letra maiúscula</li>
                        <li [class.valid]="passwordValidations.lowercase">1 letra minúscula</li>
                        <li [class.valid]="passwordValidations.number">1 número</li>
                        <li [class.valid]="passwordValidations.specialChar">1 caractere especial (!&#64;#$%^&*)</li>
                      </ul>
                    </div>
                  </div>
                  <small class="text-danger" *ngIf="camposComErro.includes('password')">
                    {{ obterMensagemErro('password') }}
                  </small>
                </div>

                <div class="form-group">
                  <label class="small mb-1">Você é: *</label>
                  <select name="tipoEstudante"
                  [(ngModel)]="tipoDeEstudante"
                  [ngClass]="{'input-error': camposComErro.includes('tipoDeEstudante')}"
                  class="form-select py-2"
                  required>
                    <option value="" disabled selected>Selecione o tipo de usuário</option>
                    <option *ngFor="let tipo of tiposUsuario" [value]="tipo.key">
                      {{ tipo.description }}
                    </option>
                  </select>
                  <small class="text-danger" *ngIf="camposComErro.includes('tipoDeEstudante')">
                    {{ obterMensagemErro('tipoDeEstudante') }}
                  </small>
                </div>


                <div class="col-sm-12 mt-3">
                  <div class="form-check">
                    <input type="checkbox" id="consentimento" [(ngModel)]="consentimento" name="consentimento" class="form-check-input" required />
                    <label for="consentimento" class="form-check-label">
                      Eu concordo com os
                      <a href="assets/docs/pp.pdf" target="_blank">Termos de Uso</a> e a
                      <a href="assets/docs/pp.pdf" target="_blank">Política de Privacidade</a>.
                    </label>
                  </div>
                </div>
              </div>

              <div class="form-group mt-4 mb-0">
                <div class="d-flex justify-content-between">
                  <button type="submit" class="btn btn-submit" [disabled]="!consentimento">Cadastrar</button>
                </div>
                <div class="alert alert-success" *ngIf="mensagemSucesso">
                  {{ mensagemSucesso }}
                </div>
                <div class="alert alert-danger" *ngFor="let erro of errors">
                  {{ erro }}
                </div>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
  </section>

  <section id="professores" class="professores-section">
    <div class="container">
      <div class="professores-border">
        <div class="professores-header">
          <h2 class="professores-title">Nossa Equipe</h2>
          <p class="professores-subtitle">Subespecialistas que ministram aulas e comentam as questões da plataforma</p>
        </div>

        <!-- Professores que dão aulas -->
        <div class="professores-categoria">
          <div class="categoria-header">
            <div class="categoria-icon">
              <img src="assets/Icons/au-bra.svg" alt="" srcset="">
            </div>
            <h3 class="categoria-title">Equipe de Aulas</h3>
          </div>
          <p class="categoria-descricao">Profissionais que ministram as videoaulas e conteúdos didáticos da plataforma</p>
          <div class="professores-grid">
            <div class="professor-card" *ngFor="let professor of professoresAulas">
              <div class="professor-foto">
                <img [src]="professor.foto" [alt]="professor.nome" />
              </div>
              <div class="professor-info">
                <h3 class="professor-nome">{{ professor.nome }}</h3>
                <p class="professor-especialidade" *ngIf="professor.especialidade">{{ professor.especialidade }}</p>
                <p class="professor-experiencia">{{ professor.experiencia }}</p>
              </div>
            </div>
          </div>
        </div>

        <!-- Divisor -->
        <div class="categoria-divisor"></div>

        <!-- Professores comentadores -->
        <div class="professores-categoria">
          <div class="categoria-header">
            <div class="categoria-icon comentador">
              <img src="assets/Icons/dark/caderno-dark.svg" alt="" srcset="">
            </div>
            <h3 class="categoria-title comentador">Equipe de Comentários de Questões</h3>
          </div>
          <p class="categoria-descricao">Especialistas responsáveis pelos comentários detalhados das questões</p>
          <div class="professores-grid">
            <div class="professor-card comentador" *ngFor="let professor of professoresComentadores">
              <div class="professor-foto comentador">
                <img [src]="professor.foto" [alt]="professor.nome" />
              </div>
              <div class="professor-info">
                <h3 class="professor-nome">{{ professor.nome }}</h3>
                <p class="professor-especialidade" *ngIf="professor.especialidade">{{ professor.especialidade }}</p>
                <p class="professor-experiencia">{{ professor.experiencia }}</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <section id="depoimentos" class="depoimentos-section">
    <div class="container">
      <h2 class="depoimento-title">Depoimentos</h2>
      <div class="carousel-container">
        <div class="depoimentos-grid">
          <div class="depoimento-card" *ngFor="let depoimento of depoimentosExibidos">
            <div class="depoimento-author">
              <div class="depoimento-avatar">
                <img [src]="depoimento.image" alt="{{ depoimento.name }}" />
              </div>
              <div class="depoimento-info">
                <h4>{{ depoimento.name }}</h4>
                <p>{{ depoimento.role }}</p>
              </div>
            </div>
            <div class="depoimento-content">
              <p>"{{ depoimento.content }}"</p>
            </div>
          </div>
        </div>
        <div class="carousel-controls">
          <button class="carousel-control prev" (click)="prevDepoimento()">❮</button>
          <div class="carousel-dots">
            <span *ngFor="let _, let i = index; of: depoimentos.slice(0, depoimentos.length - (isMobile ? 0 : 1))"
                  class="carousel-dot"
                  [class.active]="i === currentDepoimentoIndex"
                  (click)="goToDepoimento(i)"></span>
          </div>
          <button class="carousel-control next" (click)="nextDepoimento()">❯</button>
        </div>
      </div>
    </div>
  </section>

  <section id="planos" class="planos-section">
    <div class="container">
      <div class="title-planos">
        <h2>Planos acessíveis para todos os perfis</h2>
        <p>Escolha um plano e tenha acesso ilimitado a nossas questões e comentários.</p>
      </div>

      <div class="planos-container">
        <app-card-plano
            titulo="7 dias Grátis"
            [descricao]="['Acesso a um número limitado de questões.', 'Ideal para quem está começando ou quer experimentar a plataforma.', 'Sem compromisso, totalmente gratuito.']"
            [preco]="''"
            textoParcelas="Gratuito"
            textoBotao="Teste 7 dias grátis"
            [mostrarPorMes]="false"
            [recomendado]="false"
            textoAdicional=""
            [apenasEmitir]="true"
            (botaoClicado)="onPlanoSelecionado('GRATUITO')">
        </app-card-plano>

        <app-card-plano
            titulo="QBank + Mentoria"
            [descricao]="[
              'Banco de questões com mais de 4 mil questões.',
              '+2500 questões comentadas ricas em ilustrações.',
              'Assistente de IA que tira dúvidas, elabora novos comentários e explicações.',
              'Mentoria de acompanhamento do desempenho com questões.',
              'Fichas de simulados de acordo com a necessidade do aluno.'
            ]"
            [preco]="450.26"
            [textoParcelas]="'6x'"
            textoBotao="Escolher plano"
            [recomendado]="false"
            textoAdicional="Ou em 1x de R$2.400,00"
            corCabecalho="#041E4E"
            [apenasEmitir]="true"
            (botaoClicado)="onPlanoSelecionado('ASSINATURA_SEMESTRAL_PARCELADA')">
        </app-card-plano>

        <app-card-plano
            titulo="Anual"
            [descricao]="[
              'Banco de questões com mais de 4 mil questões.',
              '+2500 questões comentadas ricas em ilustrações.',
              'Assistente de IA que tira dúvidas, elabora novos comentários e explicações.'
            ]"
            [preco]="175.51"
            [textoParcelas]="'12x'"
            textoBotao="Escolher plano"
            [recomendado]="true"
            textoAdicional="ou em 1x de R$1.697,00"
            corCabecalho="#0F1934"
            [apenasEmitir]="true"
            (botaoClicado)="onPlanoSelecionado('ASSINATURA_ANUAL_PARCELADA')">
        </app-card-plano>
      </div>

      <div class="planos-footer">
        <span>
          Sujeito às condições estabelecidas em nossos 
          <a href="assets/docs/pp.pdf" target="_blank">Termos de Uso</a> e
          <a href="assets/docs/pp.pdf" target="_blank">Política de Assinaturas.</a>
        </span>
      </div>
    </div>
  </section>


  <div class="section-indicator">
    <a href="#hero" class="section-dot" data-section="hero"></a>
    <a href="#professores" class="section-dot" data-section="professores"></a>
    <a href="#depoimentos" class="section-dot" data-section="depoimentos"></a>
    <a href="#planos" class="section-dot" data-section="planos"></a>
  </div>

  <footer class="footer">
    <div class="container">
      <div class="footer-bottom">
        <p>&copy; 2024-{{ anoAtual }} Oftlessons - Todos os direitos reservados - CNPJ: 54.642.493/0001-92 - Av. Paulista, 1636. Bela Vista – São Paulo/SP.</p>
      </div>
    </div>
  </footer>
</div>
