<div class="container pt-5">
    <div class="container mt-4">
      <div class="header">
        <h1 class="mt-4"><span> | </span> Questões</h1>
        <button class="btn-filtros" routerLink="/usuario/filtro">
          <img src="assets/imagens/q-f.svg" alt="Ícone do Filtro" class="icon">
          Filtros
        </button>
      </div>
    </div>
  
    <div class="filters-container">
      <div class="row">
        <div class="col col-12 col-md-6">
          <mat-form-field appearance="fill" class="custom-form-field">
            <mat-label>Ano</mat-label>
            <mat-select [(value)]="selectedAno">
              <mat-option *ngFor="let ano of anos" [value]="ano">{{ ano }}</mat-option>
            </mat-select>
          </mat-form-field>
        </div>
        <div class="col col-12 col-md-6">
          <mat-form-field appearance="fill" class="custom-form-field">
            <mat-label>Dificuldade</mat-label>
            <mat-select [(value)]="selectedDificuldade">
              <mat-option *ngFor="let dificuldade of dificuldades" [value]="dificuldade">
                {{ getDescricaoDificuldade(dificuldade) }}
              </mat-option>
            </mat-select>
          </mat-form-field>
        </div>
      </div>
      <div class="row">
        <div class=" col col-12 col-md-6">
          <mat-form-field appearance="fill" class="custom-form-field">
            <mat-label>Tipo de Prova</mat-label>
            <mat-select [(value)]="selectedTipoDeProva">
              <mat-option *ngFor="let tipoDeProva of tiposDeProva" [value]="tipoDeProva">
                {{ getDescricaoTipoDeProva(tipoDeProva) }}
              </mat-option>
            </mat-select>
          </mat-form-field>
        </div>
        <div class="col col-12 col-md-6">
          <mat-form-field appearance="fill" class="custom-form-field">
            <mat-label>Subtema</mat-label>
            <mat-select [(value)]="selectedSubtema">
              <mat-option *ngFor="let subtema of subtemas" [value]="subtema">
                {{ getDescricaoSubtema(subtema) }}
              </mat-option>
            </mat-select>
          </mat-form-field>
        </div>
      </div>
      <div class="row">
        <div class="col col-12 col-md-6">
            <mat-form-field appearance="fill" class="custom-form-field">
                <mat-label>Tema</mat-label>
                <mat-select [(value)]="selectedTema">
                  <mat-option *ngFor="let tema of temas" [value]="tema">
                    {{ getDescricaoTema(tema) }}
                  </mat-option>
                </mat-select>
              </mat-form-field>              
        </div>
        <div class="col col-12 col-md-6">
          <mat-form-field appearance="fill" class="palavra-chave">
            <mat-label>Pesquisar por palavra-chave</mat-label>
            <input matInput placeholder="Pesquisar por palavra-chave" [(ngModel)]="palavraChave">
          </mat-form-field>
        </div>
      </div>
      <div class="button-row">
        <button class="btn-salvar">Salvar Filtro</button>
        <button class="btn-filtrar" (click)="filtrarQuestoes()">Filtrar</button>
      </div>
    </div>
  
    <div *ngIf="isFiltered" class="container mt-4">
      <h2>Resultados da Filtragem</h2>
      <div *ngIf="questoes && questoes.length > 0; else noResults">
        <div *ngFor="let questao of questoes | paginate: { itemsPerPage: 1, currentPage: p }; let i = index">
          <div class="questao">
            <h3>{{ questao.title }}</h3>
            <p>{{ questao.enunciadoDaQuestao }}</p>
            <p>{{ questao.tema }}</p>
            <p>{{ questao.dificuldade }}</p>
            <p>{{ questao.ano }}</p>
          </div>
        </div>
       
        <pagination-controls [previousLabel]="'Anterior'" [nextLabel]="'Próximo'" (pageChange)="p = $event" ></pagination-controls>
      </div>
      <ng-template #noResults>
        <p>Nenhum resultado encontrado.</p>
      </ng-template>
    </div>
  </div>
  